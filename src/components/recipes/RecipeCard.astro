---
import LazyImage from '../common/LazyImage.astro';
import { getLocale } from '../../i18n/i18n';

interface Props {
  image: string;
  title: string;
  time?: string;
  id: string;
  description?: string;
  category?: string;
  isNew?: boolean;
}

const { 
  image, 
  title, 
  time = "30MIN", 
  id,
  description = '',
  category = 'breakfast',
  isNew = false
} = Astro.props;

const currentLocale = getLocale();
const recipeLink = `/${currentLocale}/${currentLocale === 'es' ? 'recetas' : 'recipes'}/${id}`;
---

<a 
  href={recipeLink} 
  class="block group h-full"
>
  <div class="overflow-hidden rounded-3xl transition-transform duration-300 hover:scale-[1.02] h-full flex flex-col">
    <!-- Imagen -->
    <div class="relative h-[200px] md:h-[250px] overflow-hidden">
      <LazyImage
        src={image}
        alt={title}
        class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
      />
    </div>
    
    <!-- SecciÃ³n amarilla separada -->
    <div class="bg-[#FFED7A] p-6 flex flex-col flex-1">
      <!-- Category Tags -->
      <div class="flex gap-2 mb-3">
        <span class="inline-block px-4 py-2 bg-[#0DB04A] text-white font-bold rounded-full text-xs uppercase">
          {category}
        </span>
        <!-- Tag NUEVO -->
        {isNew && (
          <span class="inline-block px-4 py-2 bg-red text-white font-bold rounded-full text-xs uppercase">
            {currentLocale === 'es' ? 'NUEVO' : 'NEW'}
          </span>
        )}
      </div>
      
      <!-- Title -->
      <h3 class="text-gray-900 font-bold text-xl md:text-2xl mb-2 uppercase">
        {title}
      </h3>
      
      <!-- Description -->
      <p class="text-gray-900 text-sm leading-tight flex-1">
        {description || (currentLocale === 'es' ? 'Deliciosa receta cargada de sabor perfecta para compartir en familia.' : 'Delicious recipe full of flavor perfect for sharing with family.')}
      </p>
    </div>
  </div>
</a>