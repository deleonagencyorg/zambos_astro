---
// Schema JSON-LD para Recipes Collection Page
interface Props {
  lang: 'es' | 'en';
}

const { lang } = Astro.props;

const baseUrl = lang === 'es' ? 'https://www.zambos.com/es/recetas/' : 'https://www.zambos.com/en/recipes/';

const recipes = lang === 'es' ? [
  {
    position: 1,
    name: "Anafres de Frijol con Quesillo y Zambos Plátanos con Chicharrón",
    description: "Anafres tradicionales de frijol con quesillo acompañados de Zambos Plátanos con Chicharrón",
    prepTime: "PT20M",
    cookTime: "PT30M",
    totalTime: "PT50M",
    recipeYield: "4 porciones",
    recipeIngredient: [
      "2 tazas de frijoles cocidos",
      "1 taza de quesillo",
      "1 bolsa de Zambos Plátanos con Chicharrón",
      "Cebolla y cilantro al gusto"
    ],
    recipeInstructions: [
      { text: "Preparar los frijoles con cebolla y cilantro" },
      { text: "Servir en anafres con quesillo derretido" },
      { text: "Acompañar con Zambos Plátanos con Chicharrón" }
    ]
  },
  {
    position: 2,
    name: "Ceviche con Zambos",
    description: "Ceviche tradicional acompañado de chips de plátano Zambos",
    prepTime: "PT25M",
    cookTime: "PT0M",
    totalTime: "PT25M",
    recipeYield: "4 porciones",
    recipeIngredient: [
      "500g de camarones frescos",
      "Limón fresco",
      "Cilantro",
      "Cebolla roja",
      "1 bolsa de Zambos"
    ],
    recipeInstructions: [
      { text: "Preparar los camarones y marinarlos en limón" },
      { text: "Agregar cebolla, cilantro y especias" },
      { text: "Servir con Zambos como acompañamiento" }
    ]
  }
] : [
  {
    position: 1,
    name: "Bean Anafres with Quesillo and Zambos Plantain with Pork Rinds",
    description: "Traditional bean anafres with quesillo accompanied by Zambos Plantain with Pork Rinds",
    prepTime: "PT20M",
    cookTime: "PT30M",
    totalTime: "PT50M",
    recipeYield: "4 servings",
    recipeIngredient: [
      "2 cups cooked beans",
      "1 cup quesillo cheese",
      "1 bag Zambos Plantain with Pork Rinds",
      "Onion and cilantro to taste"
    ],
    recipeInstructions: [
      { text: "Prepare beans with onion and cilantro" },
      { text: "Serve in anafres with melted quesillo" },
      { text: "Accompany with Zambos Plantain with Pork Rinds" }
    ]
  },
  {
    position: 2,
    name: "Ceviche with Zambos",
    description: "Traditional ceviche accompanied by Zambos plantain chips",
    prepTime: "PT25M",
    cookTime: "PT0M",
    totalTime: "PT25M",
    recipeYield: "4 servings",
    recipeIngredient: [
      "500g fresh shrimp",
      "Fresh lime",
      "Cilantro",
      "Red onion",
      "1 bag Zambos"
    ],
    recipeInstructions: [
      { text: "Prepare shrimp and marinate in lime" },
      { text: "Add onion, cilantro and spices" },
      { text: "Serve with Zambos as an accompaniment" }
    ]
  }
];

const schema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": lang === 'es' ? "Recetas con Zambos" : "Zambos Recipes",
  "description": lang === 'es' 
    ? "Colección de recetas creativas utilizando productos Zambos"
    : "Collection of creative recipes using Zambos products",
  "url": baseUrl,
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": recipes.map((recipe, index) => ({
      "@type": "Recipe",
      "position": recipe.position,
      "name": recipe.name,
      "description": recipe.description,
      "image": `https://www.zambos.com/images/recipe-${index + 1}.jpg`,
      "author": {
        "@type": "Organization",
        "name": "Zambos Snacks"
      },
      "prepTime": recipe.prepTime,
      "cookTime": recipe.cookTime,
      "totalTime": recipe.totalTime,
      "recipeYield": recipe.recipeYield,
      "recipeIngredient": recipe.recipeIngredient,
      "recipeInstructions": recipe.recipeInstructions.map(instruction => ({
        "@type": "HowToStep",
        "text": instruction.text
      })),
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": index === 0 ? "4.9" : "4.8",
        "ratingCount": index === 0 ? "312" : "287"
      }
    }))
  }
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
