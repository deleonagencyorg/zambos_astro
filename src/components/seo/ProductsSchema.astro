---
// Schema JSON-LD para Products Collection Page
interface Props {
  lang: 'es' | 'en';
}

const { lang } = Astro.props;

const baseUrl = lang === 'es' ? 'https://www.zambos.com/es/productos/' : 'https://www.zambos.com/en/products/';

const products = lang === 'es' ? [
  {
    position: 1,
    name: "Zambos Plátano con Chicharrón",
    description: "Hojuelas de plátano frito con chicharrón de cerdo, sabor clásico tradicional"
  },
  {
    position: 2,
    name: "Zambos Chile Limón",
    description: "Chips de plátano premium con chile y limón, sabor picante auténtico"
  },
  {
    position: 3,
    name: "Zambos Tajín",
    description: "Plátano premium sazonado con chile y limón con especias Tajín"
  },
  {
    position: 4,
    name: "Zambos Maduros",
    description: "Plátanos maduros fritos con sabor dulce natural y crujiente"
  }
] : [
  {
    position: 1,
    name: "Zambos Plantain with Pork Rinds",
    description: "Fried plantain flakes with pork rinds, classic traditional flavor"
  },
  {
    position: 2,
    name: "Zambos Chile Lime",
    description: "Premium plantain chips with chile and lime, authentic spicy flavor"
  },
  {
    position: 3,
    name: "Zambos Tajín",
    description: "Premium plantain seasoned with chile and lime with Tajín spices"
  },
  {
    position: 4,
    name: "Zambos Ripe Plantains",
    description: "Fried ripe plantains with natural sweet flavor and crispy texture"
  }
];

const schema = {
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": lang === 'es' ? "Productos Zambos" : "Zambos Products",
  "description": lang === 'es' 
    ? "Catálogo completo de productos Zambos con todas las variedades de chips de plátano premium"
    : "Complete catalog of Zambos products with all varieties of premium plantain chips",
  "url": baseUrl,
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": products.map((product, index) => ({
      "@type": "Product",
      "position": product.position,
      "name": product.name,
      "description": product.description,
      "image": `https://www.zambos.com/images/zambos-product-${index + 1}.jpg`,
      "brand": {
        "@type": "Brand",
        "name": "Zambos"
      },
      "offers": {
        "@type": "AggregateOffer",
        "availability": "https://schema.org/InStock",
        "priceCurrency": "USD",
        "price": index === 2 ? "2.99" : "1.49"
      }
    }))
  }
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
